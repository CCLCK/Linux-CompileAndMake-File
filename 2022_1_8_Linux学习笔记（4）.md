## Linux ç¬”è®°

[toc]

### ğŸ…Linuxç¼–è¯‘å™¨gccä¸g++ğŸ…

> æˆ‘ä»¬**ä¹ æƒ¯**ç”¨gcc ç¼–è¯‘Cè¯­è¨€ä»£ç ï¼Œg++ç¼–è¯‘C++çš„ä»£ç 
>
> gccä¹Ÿå¯ä»¥ç¼–è¯‘Goè¯­è¨€ç¨‹åºä¹‹ç±»çš„ï¼Œgccå¯ä»¥æ ¹æ®æ–‡ä»¶åç¼€æ¥åˆ¤æ–­å½“å‰ç¨‹åºæ‰€ç”¨çš„è¯­è¨€

> ä»¥test.cä¸ºä¾‹ï¼š
>
> <font color=red>gcc -E test.c -o test.i  </font>   **é¢„å¤„ç†**ï¼šå®Œæˆå®æ›¿æ¢ï¼Œå»æ‰æ³¨é‡Šï¼Œå¤´æ–‡ä»¶åŒ…å«ç­‰å·¥ä½œ
>
> <font color=lies>gcc -S test.i -o test.s  </font>   **ç¼–è¯‘**:  æŠŠCè¯­è¨€ä»£ç è½¬åŒ–æˆæ±‡ç¼–è¯­è¨€çš„ä»£ç 
>
> <font color=blue>gcc -c test.s -o test.oÂ Â </font> **æ±‡ç¼–**ï¼šæŠŠæ±‡ç¼–è¯­è¨€çš„ä»£ç è½¬æˆæœºå™¨è¯­è¨€ï¼ˆäºŒè¿›åˆ¶åºåˆ—ï¼‰    
>
> <font color=pink>gcc test.o -o mytest</font>    **é“¾æ¥**ï¼šç”Ÿæˆå¯æ‰§è¡Œç¨‹åºï¼ˆé»˜è®¤æ˜¯åŠ¨æ€é“¾æ¥ï¼‰

#### ğŸ…gccæ¼”ç¤ºğŸ…

> ä¸‹é¢å¯¹æ¯æ­¥è¿›è¡Œæ¼”ç¤º
>
> âŒ¨â‘ **<font color=19CAAD>vim test.c</font>**
>
> ![image-20220109162830200](../typora å›¾ç‰‡/image-20220109162830200.png)
>
> âŒ¨â‘¡<font color=red>gcc -E test.c -o test.iÂ Â </font>    
>
> **-E ä½œç”¨ï¼šé¢„å¤„ç†ï¼Œä½†ä¸ç”Ÿæˆæ–‡ä»¶**
>
> **-oçš„ä½œç”¨ï¼šæŠŠç”Ÿæˆçš„å†…å®¹è¾“å‡ºåˆ°æ–‡ä»¶ï¼Œæ­¤å¤–æœ‰ç»™æ–‡ä»¶èµ·åçš„ä½œç”¨**
>
> gcc -E test.c -o test.i  é‡Œçš„-oå°±æ˜¯æŠŠé¢„å¤„ç†çš„å†…å®¹è¾“å‡ºåˆ°test.ié‡Œï¼Œä¸ç„¶ç›´æ¥æ‰“å°åˆ°å±å¹•ä¸Šäº†
>
> **<font color=19CAAD>cat -n test.i</font>**
>
> test.içš„å†…å®¹
>
> ![image-20220109163136541](../typora å›¾ç‰‡/image-20220109163136541.png)
>
> âŒ¨â‘¢<font color=lies>gcc -S test.i -o test.s  </font>
>
> -Sï¼šç¼–è¯‘ ,ä¸ç”Ÿæˆæ–‡ä»¶
>
> -o æŠŠç”Ÿæˆçš„å†…å®¹æ”¾å…¥test.s
>
> **<font color=19CAAD>cat -n test.s</font>**
>
> ç”Ÿæˆçš„æ±‡ç¼–ä»£ç å¦‚ä¸‹ï¼š
>
> ![image-20220109164421642](../typora å›¾ç‰‡/image-20220109164421642.png)
>
> âŒ¨â‘£<font color=blue>gcc -c test.s -o test.o  </font> 
>
> -c æ±‡ç¼–ä¸ç”Ÿæˆæ–‡ä»¶
>
> -o æŠŠç”Ÿæˆçš„å†…å®¹æ”¾å…¥test.o
>
> **<font color=19CAAD>cat -n test.o</font>**
>
> ![image-20220109164632241](../typora å›¾ç‰‡/image-20220109164632241.png)
>
> ~~çœ‹ä¸æ‡‚å¯¹å§ï¼Œæˆ‘ä¹Ÿçœ‹ä¸æ‡‚ï¼Œå¯ä»¥è½¬ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶çœ‹~~
>
> **<font color=19CAAD>xxd test.o</font>**
>
> ![image-20220109164838746](../typora å›¾ç‰‡/image-20220109164838746.png)
>
> ~~çœ‹ä¸æ‡‚å¯¹å§ æˆ‘ä¹Ÿçœ‹ä¸æ‡‚ğŸ±â€ğŸ~~
>
> âŒ¨â‘¤<font color=pink>gcc test.o -o mytest</font>
>
> è¿™ä¸€æ­¥å†™æˆ gcc test.o -o mytest.exe  æ•ˆæœä¸€æ ·ï¼ŒLinuxä¸æ˜¯æ ¹æ®æ‰©å±•åæ¥ç»™æ–‡ä»¶å½’ç±»çš„ï¼Œåæ­£éƒ½æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå…·æœ‰xæƒé™
>
> **<font color=19CAAD>gcc test.o</font>** ï¼šé“¾æ¥  ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶.
>
> ~~mytestæ–‡ä»¶å°±ä¸çœ‹äº†ï¼Œå’Œä¸Šé¢çš„test.oå·®ä¸å¤š,ä¹Ÿæ˜¯äºŒè¿›åˆ¶æ–‡ä»¶~~
>
> **é“¾æ¥**ï¼š**åˆ†ä¸ºåŠ¨æ€é“¾æ¥å’Œé™æ€é“¾æ¥ï¼Œé»˜è®¤æ˜¯åŠ¨æ€é“¾æ¥**
>
> <font color=red>lddå’Œfile</font>å¯ä»¥åˆ¤æ–­é“¾æ¥ç±»å‹
>
> âŒ¨âŒ¨  **ldd mytest**
>
> ![image-20220109165725887](../typora å›¾ç‰‡/image-20220109165725887.png)
>
> <u>.soå¯ä»¥åˆ¤æ–­åŠ¨æ€é“¾æ¥ï¼Œ.aåˆ¤æ–­æ˜¯é™æ€é“¾æ¥</u>
>
> libc.so.6å°±æ˜¯ä¸ªåŠ¨æ€åº“ï¼Œlibc.aå°±è¡¨ç¤ºæ˜¯ä¸ªé™æ€åº“
>
> ![image-20220109165744402](../typora å›¾ç‰‡/image-20220109165744402.png)
>
> 
>
> **file mytest**
>
> <img src="../typora å›¾ç‰‡/image-20220109170014243.png" alt="image-20220109170014243"  />
>
> 
>
> > âŒ¨è‹±æ–‡æ—¶é—´ï¼šdynamically linked==åŠ¨æ€é“¾æ¥![image-20220109170122895](../typora å›¾ç‰‡/image-20220109170122895.png)
> > 
> 
>
> <font color=#8CC7B5>æ—¢ç„¶æœ‰åŠ¨æ€é“¾æ¥ è‚¯å®šå°±æœ‰é™æ€é“¾æ¥ ä¸¤è€…åŒºåˆ«åˆæ˜¯ä»€ä¹ˆï¼Ÿ</font>
>
> åŠ¨æ€é“¾æ¥ç”¨åˆ°çš„æ˜¯é™æ€åº“ï¼Œè¿è¡Œæ—¶åŠ è½½åº“ã€‚
>
> é™æ€é“¾æ¥åˆ™æ˜¯ç›´æ¥åŒ…å«åº“ï¼Œæ‰€ä»¥é™æ€é“¾æ¥ç”Ÿæˆçš„æ–‡ä»¶ä¼šå¾ˆå¤§
>
> > **æ€ä¹ˆç”Ÿæˆé™æ€é“¾æ¥çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Ÿ**
> >
> > åŠ -static
> >
> > ä¸¾ä¾‹ï¼š<font color=red>gcc test.c -o mytest-s -static</font>ï¼ˆå¦‚æœæŠ¥é”™äº†æ‹‰åˆ°ä¸‹ä¸€ä¸ªå—è§£å†³æŠ¥é”™ï¼‰
> >
> > ç”Ÿæˆçš„mytest-så°±æ˜¯é™æ€é“¾æ¥çš„ï¼Œçœ‹çœ‹å…·ä½“ä¿¡æ¯
> >
> > <font color=red>file mytest-s</font>
> >
> > ![image-20220109173701615](../typora å›¾ç‰‡/image-20220109173701615.png)
> >
> > è‹±æ–‡æ—¶é—´ï¼šstatically linked==é™æ€é“¾æ¥
>
> âŒ¨âŒ¨ å†æ¯”è¾ƒä¸‹åŠ¨æ€å’Œé™æ€åº“çš„å¤§å°
>
> ![image-20220109174051876](../typora å›¾ç‰‡/image-20220109174051876.png)
>
> é™æ€é“¾æ¥ç”Ÿæˆçš„æ–‡ä»¶å¤§å°æ˜¯åŠ¨æ€é“¾æ¥ç”Ÿæˆçš„100å€å·¦å³
>
> ä¸è¿‡é™æ€é“¾æ¥ä¹Ÿæœ‰ä¼˜ç‚¹ï¼Œæ²¡æœ‰é‚£ä¹ˆä¾èµ–é…ç½®ç¯å¢ƒï¼Œæ‹¿è¿‡æ¥å°±èƒ½ç”¨ã€‚
>
> **ä¸åŠ -staticé»˜è®¤æ˜¯åŠ¨æ€é“¾æ¥**

#### ğŸ…è§£å†³staticæŠ¥é”™é—®é¢˜ğŸ…

**æŠ¥é”™ä¿¡æ¯ï¼š**

> /usr/bin/ld: cannot find -lc
> collect2: error: ld returned 1 exit status

åŸå› ï¼šå°‘äº†é™æ€åº“...~~æäº†åŠå¤©æ‰è§£å†³~~

<font color =red>**è§£å†³**</font>ï¼š sudo yum install glibc-static

æŠŠåº“ç»™è£…ä¸Šå°±å®Œäº‹äº†

> **<font color=#D1BA74>è¡¥å……</font>**ï¼šgcc -w ä¸ç”Ÿæˆä»»ä½•è­¦å‘Š
>
> gcc -Wall ç”Ÿæˆæ‰€æœ‰è­¦å‘Š
>
> æˆ‘ä»¬é»˜è®¤æ˜¯æŠ¥è­¦å‘Šçš„ï¼Œæ‰€æœ‰é»˜è®¤æ˜¯gcc -Wall
>
> test.cpp test.cc test.cxxéƒ½è¡¨ç¤ºc++æ–‡ä»¶
>
> gccç¼–è¯‘å™¨å¯ä»¥æ ¹æ®æ–‡ä»¶åç¼€åˆ¤æ–­æ–‡ä»¶çš„ç¼–ç¨‹è¯­è¨€
> è‹±æ–‡æ—¶é—´:    pwd==print work directory



###ğŸ…gdbçš„ä½¿ç”¨ğŸ…

> ä»€ä¹ˆæ˜¯gdb?
>
> ç®€å•æ¥è¯´å°±æ˜¯è°ƒè¯•å™¨ï¼Œæ¯”å¦‚vsé‡Œçš„è°ƒè¯•å™¨

<font color=red>gdb å¯æ‰§è¡Œç¨‹åº</font>

ä½œç”¨ï¼šè¿›å…¥è°ƒè¯•   

å¦‚gdb mytest

> **å¦‚æœæŠ¥é”™:**é‡æ–°ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼Œgccå‘½ä»¤åŠ ä¸Š-g,ä¸åŠ é»˜è®¤releaseç‰ˆæœ¬
>
> ä¾‹ **gcc mytest -g**  
>
> æŠ¥é”™åŸå› ï¼šæ–‡ä»¶é‡Œæ²¡æœ‰è°ƒè¯•ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„releaseç‰ˆæœ¬
>
> gdbç•Œé¢è¾“å…¥å‘½ä»¤æŠ¥é”™ä¿¡æ¯ï¼šNo symbol table is loaded.  Use the "file" command.
>
> **-gå¯åŠ å…¥è°ƒè¯•ä¿¡æ¯  ï¼Œreleaseç‰ˆæœ¬æ— è°ƒè¯•ä¿¡æ¯ï¼Œä¸å¯è¢«è°ƒè¯•**

> **æ£€æŸ¥å½“å‰æ–‡ä»¶æ˜¯å¦å…·æœ‰è°ƒè¯•ä¿¡æ¯**
>
> readelf -S mytest |grep debug
>
> æ•ˆæœå¦‚å›¾ï¼šï¼ˆä¸æ‰“å°åˆ™è¯´æ˜æ²¡æœ‰debugä¿¡æ¯ï¼‰![image-20220109204425182](../typora å›¾ç‰‡/image-20220109204425182.png)

> **å°çŸ¥è¯†ï¼š**ä¸ºä»€ä¹ˆä¼šæœ‰debugå’Œreleaseï¼Ÿ
>
> debugæ˜¯ç»™æˆ‘ä»¬å¼€å‘æ—¶ç”¨çš„ï¼Œreleaseä¸€èˆ¬æ˜¯ç»™ç”¨æˆ·ç”¨çš„
>
> è°ƒè¯•ä¿¡æ¯ä¹Ÿå ç©ºé—´å•Š
>
> å¦‚æœåªæœ‰debugç‰ˆæœ¬ï¼Œç”¨æˆ·åˆä¸ç”¨è°ƒè¯•ï¼Œè°ƒè¯•ä¿¡æ¯åˆå¤šå äº†ç¨‹åºç©ºé—´
>
> æ‰€ä»¥å¯¹ç”¨æˆ·æ¥è¯´å¯¹debugçš„éœ€æ±‚ä¸å¼ºï¼ˆæ²¡æœ‰ï¼‰
>
> å¦‚æœåªæœ‰releaseç‰ˆæœ¬ï¼Œè‡ªå·±æ„Ÿå—ä¸€ä¸‹å‡ºäº†bugæ²¡æœ‰è°ƒè¯•å™¨çš„æ„Ÿè§‰[doge]



âŒ¨ quitï¼ˆqï¼‰æˆ–è€…ctrl+d:é€€å‡ºgdb

> l :æ˜¾ç¤ºåè¡Œä»£ç     æŒ‰å›è½¦æ˜¾ç¤ºåè¡Œåçš„ä»£ç 
>
> ä½†ä¸ä¸€å®šæ˜¯å¼€å¤´åè¡Œ



âŒ¨  list (l)  è¡Œå·ï¼šæ˜¾ç¤ºè¡Œå·æ‰€åœ¨çš„ä»£ç 

âŒ¨  l å‡½æ•°å ï¼šæ˜¾ç¤ºå‡½æ•°çš„ä»£ç 

âŒ¨  b è¡Œå·ï¼šç»™æŸè¡ŒåŠ æ–­ç‚¹  ï¼ˆb== Breakpoint ï¼‰

  	å¦‚ b 7

âŒ¨  b å‡½æ•°åï¼šåœ¨å‡½æ•°å…¥å£åŠ æ–­ç‚¹

âŒ¨  info bï¼šåˆ—å‡ºæ‰€æœ‰æ–­ç‚¹

âŒ¨  r ï¼šå¼€å§‹è°ƒè¯•   ä¸¤æ¬¡ré‡æ–°è°ƒè¯•     r ==run

âŒ¨  n ï¼š é€è¿‡ç¨‹ï¼ˆä¸ä¼šè¿›å…¥å‡½æ•°ï¼‰    n ==next

âŒ¨  p å˜é‡ï¼šæ‰“å°å˜é‡çš„å€¼ï¼Œä½†åªæ˜¾ç¤ºä¸€æ¬¡

âŒ¨  print  è¡¨è¾¾å¼ï¼šæ‰“å°è¡¨è¾¾å¼çš„å€¼ï¼ˆå˜é‡ä¹Ÿç®—å…¥è¡¨è¾¾å¼ï¼‰

âŒ¨  display å˜é‡ï¼š**é•¿æ˜¾ç¤º**ï¼Œæ¯æ¬¡néƒ½ä¼šæ‰“å°

â€‹		æ¯”å¦‚display sum   é•¿æ˜¾ç¤ºsum,æ¯æ¬¡néƒ½ä¼šæ˜¾ç¤ºsumçš„å€¼

âŒ¨  undisplay ç¼–å·  å–æ¶ˆé•¿æ˜¾ç¤º  æ³¨æ„æ˜¯ç¼–å·ä¸æ˜¯å˜é‡å

![image-20220109210546636](../typora å›¾ç‰‡/image-20220109210546636.png)

âŒ¨  c ï¼ˆcontinueï¼‰ï¼š  è·³åˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹

âŒ¨  d ç¼–å·  ï¼šåˆ é™¤æ–­ç‚¹

![image-20220109210855299](../typora å›¾ç‰‡/image-20220109210855299.png)

âŒ¨  s é€è¯­å¥ ï¼šä¼šè¿›å…¥å‡½æ•°

âŒ¨  bt ï¼šæ˜¾ç¤ºè°ƒç”¨å †æ ˆ

âŒ¨  until è¡Œå·  è·³è½¬åˆ°å‡½æ•°é‡Œçš„ä»»æ„ä½ç½®

> å’Œæ–­ç‚¹æœ‰ä¸€äº›å†²çª 
>
> å¾ªç¯ä½“ï¼š
>
> ```c
> for( i=0;i<=top;i++)
> {
> ï¼ˆæ–­ç‚¹ï¼‰	 sum+=i;//æ–­ç‚¹å¯ç”¨æ—¶(èµ°åˆ°è¿™è¡Œäº†ç”¨until) untilæœªèƒ½è·³å‡ºå¾ªç¯
> }
> ```
>
> 

âŒ¨  finish  è·‘å®Œå½“å‰å‡½æ•°  ï¼ˆå®˜æ–¹ç‚¹:æ‰§è¡Œåˆ°å½“å‰å‡½æ•°è¿”å›ï¼Œç„¶ååœä¸‹æ¥ç­‰å¾…å‘½ä»¤  émainå‡½æ•°)

>![image-20220109212437096](../typora å›¾ç‰‡/image-20220109212437096.png)

âŒ¨  **c until finish :è·³è½¬ä¸‰å‰‘å®¢äº†å±äºæ˜¯ :dagger:**

> Enb=enable   **yè¡¨ç¤ºæ–­ç‚¹å¯ç”¨** 
> ![image-20220109212600721](../typora å›¾ç‰‡/image-20220109212600721.png)

âŒ¨  disable æ–­ç‚¹ç¼–å· ï¼šç¦ç”¨æ–­ç‚¹

> ä¸ºå•¥è¦ç¦ç”¨æ–­ç‚¹å‘¢ï¼Œæˆ‘ä¸ç”¨ç›´æ¥åˆ æ‰ä¸å°±è¡Œäº†
>
> ç­”ï¼šä¿ç•™è°ƒè¯•ç—•è¿¹ï¼Œæ–¹ä¾¿å¤šæ¬¡è°ƒè¯•

âŒ¨  delete breakpoint ã€delete breakpoints ï¼šåˆ æ‰å…¨éƒ¨æ–­ç‚¹

> set var å˜é‡ï¼šæ”¹å˜è°ƒè¯•æ—¶å˜é‡çš„å€¼
>
> æ¯”å¦‚set var i=100,ç”¨çš„æ¯”è¾ƒå°‘
>
> æ³¨ï¼š**æ”¹å˜å˜é‡çš„å€¼ä¸æ˜¯VSé‡Œçš„æ¡ä»¶æ–­ç‚¹**ï¼Œè€Œæ˜¯ç›´æ¥æ”¹å˜å¾€åè¿è¡Œ



### ğŸ…Linuxé¡¹ç›®è‡ªåŠ¨åŒ–æ„å»ºå·¥å…· -make/MakefileğŸ…

**makeï¼šè¿™æ˜¯ä¸€æ¡æŒ‡ä»¤**

**makefile/Makefileï¼šè¿™æ˜¯ä¸€ä¸ªæ–‡ä»¶**

> ä¾èµ–å…³ç³»
>
> ```mermaid
> graph LR
> a(test.c)--gcc test.c -o test.exe-->b(test.exe)
> 
> ```
>
> test.exeçš„ç”Ÿæˆä¾èµ–äºtest.c

âŒ¨  <font color=blue>touch makefile/touch Makefile</font>

<font color=red>**makefileé‡Œé¢å†™çš„æ˜¯ä¾èµ–å…³ç³»å’Œç›¸åº”çš„æ“ä½œ**</font>

<img src="../typora å›¾ç‰‡/image-20220109215517232.png" alt="image-20220109215517232"  />![image-20220109215531465]

![image-20220109215958782](../typora å›¾ç‰‡/image-20220109215958782.png)

> <font color=green>mytest:test.o 	è¡¨ç¤ºmytestä¾èµ–äºtest.oç”Ÿæˆï¼Œè¡¨ç°å‡ºä¾èµ–å…³ç³»</font>
> 	gcc test.o -o mytest    <font color=red>gccå‰é¢å¿…é¡»æ˜¯Tab ä¸èƒ½æ˜¯å››ä¸ªç©ºæ ¼</font>
> <font color=green>test.o:test.s 	     è¡¨ç¤ºtest.oä¾èµ–äºtest.sç”Ÿæˆï¼Œè¡¨ç°å‡ºä¾èµ–å…³ç³»</font>
> 	gcc -c test.s -o test.o
>  <font color=green>test.s:test.i 	     è¡¨ç¤ºtest.sä¾èµ–äºtest.iç”Ÿæˆï¼Œè¡¨ç°å‡ºä¾èµ–å…³ç³»</font>
> 	gcc -S test.i -o test.s
> <font color=green>test.i:test.c	è¡¨ç¤ºtest.iä¾èµ–äºtest.cç”Ÿæˆï¼Œè¡¨ç°å‡ºä¾èµ–å…³ç³»</font>
> 	gcc -E test.c -o test.i 

âŒ¨  **è§£é‡Šä¸€ä¸‹è¿™ä¸ªmake**å§ ï¼Œ**ç›¸å½“äºä¸€æ¬¡æ€§æ‰§è¡Œäº†å¤šæ¡å‘½ä»¤**ï¼Œé™ä½äº†æˆ‘ä»¬çš„è°ƒè¯•çš„æˆæœ¬

> å¦‚æœæ–‡ä»¶å¾ˆå¤š å†™gccä¸€ä¸ªä¸€ä¸ªç¼–è¯‘é“¾æ¥è¿‡å»æˆæœ¬å¤ªé«˜
>
> æˆ–è€…æ˜¯è½¯ä»¶è¿­ä»£çš„æ—¶å€™ï¼Œè¿›è¡Œæµ‹è¯•ç­‰æ“ä½œæ—¶ä¸€ä¸ªä¸€ä¸ªå†™gccæˆæœ¬å¤ªé«˜äº†

**é¡¹ç›®ç®¡ç†æœ‰ç”Ÿæˆæ–‡ä»¶çš„ï¼Œè‡ªç„¶å°±æœ‰åˆ é™¤æ–‡ä»¶çš„**

âŒ¨  **åˆ é™¤æ–‡ä»¶**æ—¶makefileè¿™ä¹ˆå†™ï¼š

![image-20220109220927538](../typora å›¾ç‰‡/image-20220109220927538.png)

![image-20220109220909482](../typora å›¾ç‰‡/image-20220109220909482.png)

> âŒ¨  <font color=red>.PHONY:cleanåˆæ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Ÿï¼Ÿï¼Ÿ</font>
>
> **.PHONYå¾ˆåƒä¸€ä¸ªå£°æ˜ï¼Œå£°æ˜ä¸€ä¸‹cleanï¼Œæˆ–è€…è¯´ä¿®é¥°ä¸€ä¸‹clean**
>
> **.PHONYå®šä¹‰ä¼ªç›®æ ‡ï¼Œè¢«ä¿®é¥°çš„**clean**æ€»æ˜¯è¢«æ‰§è¡Œ**
>
> âŒ¨  æ€»æ˜¯è¢«æ‰§è¡Œï¼Ÿé‚£è‚¯å®šå°±æœ‰æ€»æ˜¯ä¸è¢«æ‰§è¡Œäº†
>
> **é»˜è®¤ï¼šæ€»æ˜¯ä¸è¢«æ‰§è¡Œ**
>
> ä¸‹é¢çš„makeå°±æ˜¯æ€»æ˜¯ä¸è¢«æ‰§è¡Œï¼Œå³åªèƒ½è¢«æ‰§è¡Œä¸€æ¬¡ï¼Œä¹Ÿä¸€ç›´æç¤ºmake: `mytest' is up to date.
>
> åŒæ—¶å¯¹æ¯”clean
>
> ![image-20220109221527500](../typora å›¾ç‰‡/image-20220109221527500.png)
>
> 

çœ‹åˆ°è¿™è¿˜æœ‰ä¸€ä¸ªé—®é¢˜

âŒ¨  **ä¸ºä»€ä¹ˆç”Ÿæˆæ–‡ä»¶æ—¶åªéœ€è¦è¾“å…¥â€œmakeâ€è€Œæˆ‘åœ¨åˆ é™¤æ–‡ä»¶æ—¶å´è¦è¾“å…¥â€œmake <u>clean</u>â€?**

å› ä¸ºmakeå°±æ˜¯ä»makefileæ–‡ä»¶ç”±ä¸Šå¾€ä¸‹èµ°ï¼Œæ‰§è¡Œç¬¬ä¸€æ¡å‘½ä»¤

> è¿™ä¹ˆè¯´å¾ˆæ™¦æ¶©,ä¸¾ä¸ªä¾‹å­
>
> ![image-20220109222000154](../typora å›¾ç‰‡/image-20220109222000154.png)
>
> å…¨ç§°å°±åº”è¯¥å†™ make mytestï¼Œåªä¸è¿‡mytestç›¸å…³å‘½ä»¤å†™åœ¨cleanå‰é¢ï¼Œæ‰€ä»¥å¯ä»¥ç®€å†™ä¸ºmake
>
> å¦‚æœæŠŠcleanå†™åœ¨ç¬¬ä¸€è¡Œï¼Œé‚£makeå‘½ä»¤æ‰§è¡Œçš„å°±æ˜¯åˆ é™¤åŠŸèƒ½äº†ï¼Œæœ‰å…´è¶£å¯ä»¥è¯•è¯•

####ğŸ…ç®€å†™makefileæ–‡ä»¶ğŸ…

```c
  1 mytest:test.o
  2   gcc $^ -o $@      $@ä¾èµ–äº$^,ç±»ä¼¼äºä»£æŒ‡
  3 test.o:test.s
  4   gcc -c $^ -o $@
  5 test.s:test.i
  6   gcc -S $^ -o $@
  7 test.i:test.c
  8   gcc -E $^ -o $@

```

![image-20220109222454249](../typora å›¾ç‰‡/image-20220109222454249.png)



